import { Injectable } from '@angular/core';
import { BehaviorSubject } from 'rxjs';
import { Product } from '../product-details/product-details.component';

@Injectable({
  providedIn: 'root',
})
export class ProductService {
  private productsSubject = new BehaviorSubject<Product[]>([
    {
      id: 1,
      name: 'camera',
      description: 'Camera Description',
      image: 'https://via.placeholder.com/150',
    },
    {
      id: 2,
      name: 'laptop',
      description: 'Laptop Description',
      image: 'https://via.placeholder.com/150',
    },
    {
      id: 3,
      name: 'shampoo',
      description: 'Shampoo Description',
      image: 'https://via.placeholder.com/150',
    },
  ]);

  products$ = this.productsSubject.asObservable();

  getProducts(): Product[] {
    return this.productsSubject.value;
  }

  addProduct(product: Product) {
    const current = this.productsSubject.value;
    this.productsSubject.next([...current, product]);
  }
}
